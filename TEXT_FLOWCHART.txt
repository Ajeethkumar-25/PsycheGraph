
###############################################################################
#                         PSYCHEGRAPH SYSTEM FLOWCHART                        #
###############################################################################

[ START ]
    |
    v
+-----------------------+
|  LOGIN (POST /token)  | <--- User credentials (Email, Password)
+-----------------------+
    |
    v
+-----------------------+
|   AUTHENTICATION      | ----> (Invalid) ----> [ 401 UNAUTHORIZED ]
|       LAYER           |
+-----------------------+
    | (Valid)
    v
+-----------------------+      +-------------------------------------------+
|    DETERMINE ROLE     | ---> | SUPER_ADMIN: Full Multi-Org Access         |
+-----------------------+      +-------------------------------------------+
    |                          | HOSPITAL: Own Organization Scope          |
    |                          +-------------------------------------------+
    |                          | DOCTOR: Patient & Session Management      |
    |                          +-------------------------------------------+
    |                          | RECEPTIONIST: Patient Registration        |
    |                          +-------------------------------------------+
    |
    v
===============================================================================
                     DATA MANAGEMENT & PERMISSION FLOW
===============================================================================

        [ SUPER_ADMIN ]                 [ HOSPITAL ADMIN ]
               |                               |
               v                               v
    +---------------------+         +-----------------------+
    | Manage Organizations|         | View Own Organization |
    +---------------------+         +-----------------------+
               |                               |
               v                               v
    +---------------------+         +-----------------------+
    | Create Hospital Admins|       | Create Doctors/Staff  |
    +---------------------+         +-----------------------+
               |                               |
               v                               v
    +---------------------+         +-----------------------+
    | View ALL Data       |         | View Org-specific Data|
    +---------------------+         +-----------------------+

-------------------------------------------------------------------------------

        [ RECEPTIONIST ]                    [ DOCTOR ]
               |                               |
               v                               v
    +---------------------+         +-----------------------+
    | Register Patients   |         | Access Assigned Pat.  |
    +---------------------+         +-----------------------+
               |                               |
               v                               v
    +---------------------+         +-----------------------+
    | Update Patient Info |         | CREATE NEW SESSION    |
    +---------------------+         +-----------------------+
                                               |
                                               v
                                    +-----------------------+
                                    | UPLOAD AUDIO FILE     |
                                    +-----------------------+
                                               |
                                               v
                                    +-----------------------+
                                    | AI PROCESSING ENGINE  |
                                    +-----------------------+
                                               |
                                               v
                                    +-----------------------+
                                    | GENERATE TRANSCRIPT   |
                                    +-----------------------+
                                               |
                                               v
                                    +-----------------------+
                                    | CREATE SOAP NOTES     |
                                    +-----------------------+

###############################################################################
#                          DATA ACCESS MATRIX (TEXT)                          #
###############################################################################

ROLE           | ORGS        | USERS       | PATIENTS    | SESSIONS      
---------------|-------------|-------------|-------------|---------------
SUPER_ADMIN    | ALL (CRUD)  | ALL (CRUD)  | ALL (CRUD)  | ALL (CRUD)    
HOSPITAL       | OWN (READ)  | ORG (CRUD)  | ORG (CRUD)  | ORG (READ/DEL)
DOCTOR         | NONE        | NONE        | ORG (READ)  | OWN (CRUD)    
RECEPTIONIST   | NONE        | NONE        | ORG (CRUD)  | NONE          

###############################################################################
